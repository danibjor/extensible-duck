!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Duck=r():t.Duck=r()}(this,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.constructLocalized=function(t){var r=h(t);return function(t){var e={};return Object.keys(r).forEach(function(n){var o=r[n];e[n]=function(r){return o(r[t.store],r)}}),e}},e.d(r,"Selector",function(){return d});var n=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function c(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function u(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}function a(t,r){1==arguments.length&&(r=t[1],t=t[0]);for(var e={},n=0;n<t.length;n+=1)e[t[n]]=r[n];return e}function s(t){return null!==t&&"function"==typeof t}function f(t){return void 0===t||void 0===t}function l(t){return null!==(r=t)&&"object"===(void 0===r?"undefined":i(r))&&(t.constructor===Object||void 0===t.constructor);var r}function y(t){return o({},t,{consts:t.consts||{},creators:t.creators||function(){return{}},selectors:t.selectors||{},types:t.types||[]})}function p(t,r){return t instanceof Function?t(r):t}function h(t){var r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=n instanceof d?function(){return(r[e]=n.extractFunction(r)).apply(void 0,arguments)}:n}),r}var v=function(){function t(r){var e=this;c(this,t);var n,o,i,u=r=y(r),f=u.namespace,l=u.store,v=u.types,d=u.consts,b=u.initialState,m=u.creators,S=u.selectors;this.options=r,Object.keys(d).forEach(function(t){e[t]=a(d[t],d[t])}),this.store=l,this.types=(n=f,o=l,a(i=v,i.map(function(t){return n+"/"+o+"/"+t}))),this.initialState=s(b)?b(this):b,this.reducer=this.reducer.bind(this),this.selectors=h(p(S,this)),this.creators=m(this)}return n(t,[{key:"reducer",value:function(t,r){return f(t)&&(t=this.initialState),this.options.reducer(t,r,this)}},{key:"extend",value:function(r){var e=this;s(r)&&(r=r(this)),r=y(r);var n=this.options,i=void 0;return i=s(r.initialState)?function(t){return r.initialState(t,e.initialState)}:f(r.initialState)?n.initialState:r.initialState,new t(o({},n,r,{initialState:i,consts:function t(r){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(!n.length)return r;var i,c=n.shift();if(Array.isArray(r))Array.isArray(c)?(i=r).push.apply(i,u(c)):r.push(c);else if(l(r)){if(!l(c))throw new Error("Cannot merge object with non-object");var a=!0,s=!1,f=void 0;try{for(var y,p=Object.keys(c)[Symbol.iterator]();!(a=(y=p.next()).done);a=!0){var h=y.value;r[h]?t(r[h],c[h]):r[h]=c[h]}}catch(t){s=!0,f=t}finally{try{!a&&p.return&&p.return()}finally{if(s)throw f}}}else r=c;return t.apply(void 0,[r].concat(n))}({},n.consts,r.consts),creators:function(t){var e=n.creators(t);return o({},e,r.creators(t,e))},selectors:function(t){return o({},p(n.selectors,t),p(r.selectors,t))},types:[].concat(u(n.types),u(r.types)),reducer:function(t,e,o){return t=n.reducer(t,e,o),f(r.reducer)?t:r.reducer(t,e,o)}}))}}]),t}();r.default=v;var d=function(){function t(r){c(this,t),this.func=r}return n(t,[{key:"extractFunction",value:function(t){return this.func(t)}}]),t}();v.Selector=d}])});
//# sourceMappingURL=extensible-duck.min.js.map
